<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/946170/"> 946170</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/2274cfc02f2088e0059dabff9dd5deedc8791468">2274cfc02f2088e0059dabff9dd5deedc8791468</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/946179/">946179</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/138565b51956b552065fffe5a8ac1e4919303d3c">138565b51956b552065fffe5a8ac1e4919303d3c</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   2274cfc02f2088e0059dabff9dd5deedc8791468
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/2274cfc02f2088e0059dabff9dd5deedc8791468">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/2274cfc02f2088e0059dabff9dd5deedc8791468.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Tiago Vignatti &lt;tvignatti@igalia.com&gt;
  </td>
  <td>
   Mon Nov 29 22:05:05 2021
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Mon Nov 29 22:05:05 2021
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/2274cfc02f2088e0059dabff9dd5deedc8791468/">
    02d593d8155d70f1193f7b7e6f1f0727ade76115
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/2274cfc02f2088e0059dabff9dd5deedc8791468%5E">
    59395b571ae25ce09a4cdc325505a61aef9fc960
   </a>
   <span>
    [
    <a href="/chromium/src/+/2274cfc02f2088e0059dabff9dd5deedc8791468%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">ozone/wayland: Add flag to use wayland thread with normal priority

In ChromeOS, the current priority settings for Lacros processes right
now are misleading because only the Wayland event watcher thread
("wayland-fd") is running with high display priority. The ash-chrome
situation is different, with the following all set to use display
priority:

- browser UI and IO threads (enabled by BrowserUseDisplayThreadPriority
finch flag)
- GPU main, viz compositor and IO threads (enabled by
GpuUseDisplayThreadPriority)
- renderer compositor &amp; IO threads (enabled by
BlinkCompositorUseDisplayThreadPriority)

It doesn't make sense to simply match-up Lacros settings with ash-chrome
(see crrev.com/c/3243266) because these systems are different by nature.
For example, critical user journey tests on Google Docs shows that
setting wayland-fd thread to normal priority improves page loading time
in Lacros (benchmarked locally). So with a better understanding of CPU
scheduling and boost mechanisms, our desire next is to come up with an
efficient overall solution for threads priorities in Lacros.

Therefore, in order to test the effects of changing threads priorities
in Lacros, this CL adds the ability to use wayland-fd with normal
priority by passing the --use-wayland-normal-thread-priority flag.

BUG=1262133
TEST=tast run $device lacros.DocsCUJ (modified to use the newly flag)

Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I113b60151b43e0ab112606a594bde2e7fdb97e84">I113b60151b43e0ab112606a594bde2e7fdb97e84</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/3304121">https://chromium-review.googlesource.com/c/chromium/src/+/3304121</a>
Commit-Queue: Tiago Vignatti &lt;tvignatti@igalia.com&gt;
Reviewed-by: Robert Kroeger &lt;rjkroege@chromium.org&gt;
Reviewed-by: Maksim Sisov &lt;msisov@igalia.com&gt;
Cr-Commit-Position: refs/heads/main@{#946170}
</pre>

</body>
</html>
