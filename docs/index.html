<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/1043875/"> 1043875</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/1b0a12df35ed2641396754b62bb1a7aa31e48095">1b0a12df35ed2641396754b62bb1a7aa31e48095</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/1043872/">1043872</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/9810f3b2d7e8e89e546b4d2cdad45cd7bc421878">9810f3b2d7e8e89e546b4d2cdad45cd7bc421878</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   1b0a12df35ed2641396754b62bb1a7aa31e48095
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/1b0a12df35ed2641396754b62bb1a7aa31e48095">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/1b0a12df35ed2641396754b62bb1a7aa31e48095.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Justin Huang &lt;justinhuang@google.com&gt;
  </td>
  <td>
   Wed Sep 07 08:47:55 2022
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Wed Sep 07 08:47:55 2022
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/1b0a12df35ed2641396754b62bb1a7aa31e48095/">
    251f352b169faaab385f831f328aa25302a40467
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/1b0a12df35ed2641396754b62bb1a7aa31e48095%5E">
    45e266f4b1b06ed7adeb27ec4f21fb1353139922
   </a>
   <span>
    [
    <a href="/chromium/src/+/1b0a12df35ed2641396754b62bb1a7aa31e48095%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">Fixes CrostiniInstaller's interaction with AnsibleManagementService

CrostiniInstaller had a race with CrostiniManager where
AnsibleManagementService would send a failure signal via observer to
CrostiniInstaller and a failure to CrostiniManager via a callback. This
would cause both to fail out and send failure signals to each other -
this "worked" before because CrostiniInstaller had a specific clause to
ignore things that had already failed (if state_ != State::ERROR &lt;etc&gt;).
This CL removes CrostiniInstaller's dependency on
AnsibleManagementService since it doesn't actually need to care about
this and instead just relies on the fact that CrostiniManager tells
CrostiniInstaller about the failures of AnsibleManagementService.

This CL also removes the constant need to reconfigure on every restart of the default penguin container if enterprise has specified a playbook since this repeated run of the playbook is quite pointless and would create slowness for no reason.

NOTE: The test change in crostini_manager_unittest will be overwritten
by a future CL anyway.

LOW_COVERAGE_REASON=Unrelated to this CL

Bug: b:227085253
Test: Unittests/Browsertests run
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/Icb4400b445e3d2233fb51e3b10eaa1bcef77c071">Icb4400b445e3d2233fb51e3b10eaa1bcef77c071</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/3874636">https://chromium-review.googlesource.com/c/chromium/src/+/3874636</a>
Commit-Queue: Justin Huang &lt;justinhuang@google.com&gt;
Reviewed-by: Nicholas Verne &lt;nverne@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#1043875}
</pre>

</body>
</html>
