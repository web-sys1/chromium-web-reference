<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/1106608/"> 1106608</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/72d89b0bb832f2a7539a2469c592cdf589db8466">72d89b0bb832f2a7539a2469c592cdf589db8466</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/1106583/">1106583</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/a84f84ee5eddb75a236eb631e79e15201b56fd46">a84f84ee5eddb75a236eb631e79e15201b56fd46</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   72d89b0bb832f2a7539a2469c592cdf589db8466
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/72d89b0bb832f2a7539a2469c592cdf589db8466">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/72d89b0bb832f2a7539a2469c592cdf589db8466.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Scott Haseley &lt;shaseley@chromium.org&gt;
  </td>
  <td>
   Fri Feb 17 03:29:25 2023
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Fri Feb 17 03:29:25 2023
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/72d89b0bb832f2a7539a2469c592cdf589db8466/">
    559e842104d565c30c9e53d34021aefaac0e9215
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/72d89b0bb832f2a7539a2469c592cdf589db8466%5E">
    56f688d37c4d9805fcdcd968cae8a6531374d836
   </a>
   <span>
    [
    <a href="/chromium/src/+/72d89b0bb832f2a7539a2469c592cdf589db8466%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">SequenceManager: Make priorities configurable (yield API 1/n)

This CL makes SequenceManager priorities configurable through a new
SequenceManager::Settings option, with a single priority being
configured as the default. This is being done in advance of adding new
renderer-specific priorities to support `scheduler.yield()`, as well
as experimenting with downshifting priorities in backgrounded agents.

Configurable priorities have a few advantages:
 - Priority definitions are closer to where they're used, making it
   clear what priority system is being used where. This also enables
   better semantic (re)naming of priorities in the future, where it
   makes sense.
 - It prevents render-specific details from creeping into
   SequenceManager
 - It reduces data structure sizes for sequences that don't use
   priorities (currently only renderer main thread, (blink) workers,
   and browser UI thread).

SequenceManager is already (mostly) set up to handle an arbitrary
number of priorities; the main non-mechanical changes are:
 - A few data structures need to be vectors instead of arrays (this
   was cleaner and simpler than templating SequenceManager).
 - Tracing needs to support multiple priority systems, which is
   implemented with a configurable priority-to-proto-priority
   conversion function, along with expanding the proto enum to be the
   union of browser, renderer, and worker priorities.
 - TaskEnvironment is updated to support configurable priorities in
   its constructor, which BrowserTaskEnvironment uses to set up
   the required settings for the browser task queues.
 - The idle task priority is passed to IdleHelper along with the idle
   queue since it differs between main and non-main renderer threads.
   I'll try to set this set ahead of time in a follow-up, but this
   would have increased the complexity of this CL because of how things
   are constructed.

Bug: 979020
Low-Coverage-Reason: pure refactor / missing coverage predated this
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I06b47347838c992bcecfe1fe69518c5e8835cdc9">I06b47347838c992bcecfe1fe69518c5e8835cdc9</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/4114556">https://chromium-review.googlesource.com/c/chromium/src/+/4114556</a>
Commit-Queue: Scott Haseley &lt;shaseley@chromium.org&gt;
Reviewed-by: Francois Pierre Doray &lt;fdoray@chromium.org&gt;
Reviewed-by: Daniel Cheng &lt;dcheng@chromium.org&gt;
Reviewed-by: Alexander Timin &lt;altimin@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#1106608}
</pre>

</body>
</html>
