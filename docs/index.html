<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/1147677/"> 1147677</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/b46e53ce557498b175447af99f6f050084eefeb4">b46e53ce557498b175447af99f6f050084eefeb4</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/1147675/">1147675</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/4177694e7bfc37cba62da91b9add7a11845c0813">4177694e7bfc37cba62da91b9add7a11845c0813</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   b46e53ce557498b175447af99f6f050084eefeb4
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/b46e53ce557498b175447af99f6f050084eefeb4">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/b46e53ce557498b175447af99f6f050084eefeb4.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Momoko Hattori &lt;momohatt@google.com&gt;
  </td>
  <td>
   Tue May 23 05:36:10 2023
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Tue May 23 05:36:10 2023
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/b46e53ce557498b175447af99f6f050084eefeb4/">
    4d58b2071d298a1654be4f50a3ab4740b622d49f
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/b46e53ce557498b175447af99f6f050084eefeb4%5E">
    fa998391287c4dd7a7b8433916381b924eeefe4f
   </a>
   <span>
    [
    <a href="/chromium/src/+/b46e53ce557498b175447af99f6f050084eefeb4%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table>
<hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">arc: Fix calculation of required free space for ARCVM /data migration

ARCVM /data migration converts sparse files in the migration source into
non-sparse files. As a result, the migrated /data will require more
space than the space allocated for pre-migration /data when there are
sparse files in the migration source, and the pre-migration free space
check needs to take this into account as well. This CL fixes the
calculation of required free space so that it additionally requires the
space for the increase of /data size throughout the migration.

BUG=b:280248293
TEST=Manually create a large sparse file in the migration source and
TEST=check the VLOG(1)s from arc_vm_data_migration_screen.
TEST=ash_components_unittests --gtest_filter="ArcUtilTest.*"
TEST=unit_tests --gtest_filter="ArcVmDataMigrationScreenTest.*"

Change-Id: <a href="https://chromium-review.googlesource.com/#/q/Idab9da70132679b0449189b243f68c7bc815caf7">Idab9da70132679b0449189b243f68c7bc815caf7</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/4546952">https://chromium-review.googlesource.com/c/chromium/src/+/4546952</a>
Commit-Queue: Momoko Hattori &lt;momohatt@chromium.org&gt;
Reviewed-by: Youkichi Hosoi &lt;youkichihosoi@chromium.org&gt;
Reviewed-by: Danila Kuzmin &lt;dkuzmin@google.com&gt;
Reviewed-by: Yuichiro Hanada &lt;yhanada@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#1147677}
</pre>

</body>
</html>
