<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/1073264/"> 1073264</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/05acd1250d25a2b57fd7ad2130de112d32c899aa">05acd1250d25a2b57fd7ad2130de112d32c899aa</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/1073251/">1073251</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/cfcdbf68167afd808ce676726aad2a3a558c3f5a">cfcdbf68167afd808ce676726aad2a3a558c3f5a</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   05acd1250d25a2b57fd7ad2130de112d32c899aa
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/05acd1250d25a2b57fd7ad2130de112d32c899aa">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/05acd1250d25a2b57fd7ad2130de112d32c899aa.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Minoru Chikamune &lt;chikamune@chromium.org&gt;
  </td>
  <td>
   Fri Nov 18 08:39:45 2022
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Fri Nov 18 08:39:45 2022
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/05acd1250d25a2b57fd7ad2130de112d32c899aa/">
    d182fe85b0a7f3814354c3b43ecaa8c1727216da
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/05acd1250d25a2b57fd7ad2130de112d32c899aa%5E">
    29014aa1db6c3b51f08951f6c69b2cf56672e4a6
   </a>
   <span>
    [
    <a href="/chromium/src/+/05acd1250d25a2b57fd7ad2130de112d32c899aa%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">Add kServiceWorkerStorageControlOnThreadPool feature (disabled by default)

This CL adds kServiceWorkerStorageControlOnThreadPool feature.  Before
this CL, ServiceWorkerStorageControl mojo receiver runs on UI thread on
Desktop.  If kServiceWorkerStorageControlOnThreadPool is enabled,
ServiceWorkerStorageControl mojo receiver runs on thread pool so that
FindRegistrationForClientUrl() can run in parallel independent of
the UI thread.

IO thread v.s. Thread pool

On Android, when kServiceWorkerStorageControlOnIOThread feature is
enabled, ServiceWorkerStorageControl mojo receiver runs on IO
thread. But nowadays running code on the IO thread is not
recommended. So this CL uses thread pool instead. In the near future,
after we confirmed that this CL doesn't break anything, we want to run
ServiceWorkerStorageControl mojo receiver on thread pool on all of the
platforms including Android.

About ServiceWorkerContextWrapper::storage_control_

This CL still keeps the storage_control_ field on
ServiceWorkerContextWrapper. But I'll remove this field in a separated
CL because this CL started to use SelfOwnedReceiver to manage
ServiceWorkerStorageControl mojo receiver.

Bug: 1375174
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/Id1b54ca14dd57e12e99ba868eb424795d047ba04">Id1b54ca14dd57e12e99ba868eb424795d047ba04</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/4027802">https://chromium-review.googlesource.com/c/chromium/src/+/4027802</a>
Reviewed-by: Kenichi Ishibashi &lt;bashi@chromium.org&gt;
Reviewed-by: Shunya Shishido &lt;sisidovski@chromium.org&gt;
Reviewed-by: Kent Tamura &lt;tkent@chromium.org&gt;
Reviewed-by: Yoshisato Yanagisawa &lt;yyanagisawa@chromium.org&gt;
Commit-Queue: Minoru Chikamune &lt;chikamune@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#1073264}
</pre>

</body>
</html>
