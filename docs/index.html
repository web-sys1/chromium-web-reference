<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/1029507/"> 1029507</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/48b5ea42b1646e6c16fc81f1d5ac964123d1464b">48b5ea42b1646e6c16fc81f1d5ac964123d1464b</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/1029423/">1029423</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/fa6408cc32885f254bab54b29ca7ea5030f3dd79">fa6408cc32885f254bab54b29ca7ea5030f3dd79</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   48b5ea42b1646e6c16fc81f1d5ac964123d1464b
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/48b5ea42b1646e6c16fc81f1d5ac964123d1464b">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/48b5ea42b1646e6c16fc81f1d5ac964123d1464b.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Joel Hockey &lt;joelhockey@chromium.org&gt;
  </td>
  <td>
   Thu Jul 28 23:03:09 2022
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Thu Jul 28 23:03:09 2022
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/48b5ea42b1646e6c16fc81f1d5ac964123d1464b/">
    71b89892a31a70369d559f0305a0bbc0412c21f3
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/48b5ea42b1646e6c16fc81f1d5ac964123d1464b%5E">
    cd107be3ebbdc44b666330a67ba9dde1b9647a6d
   </a>
   <span>
    [
    <a href="/chromium/src/+/48b5ea42b1646e6c16fc81f1d5ac964123d1464b%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">Do ProcessProxy writes on ThreadPool to avoid deadlock

ProcessProxy has an ack system to provide flow control when a process
sends bursts of output.  Reading from the process is paused until the
previous output has been acked.
Acks added in <a href="https://codereview.chromium.org/1455793003.">https://codereview.chromium.org/1455793003.</a>

The handling of the Read is done on the same TaskRunner as the calls to
Write. When a program such as vim sends us output while we are writing
to it, and refuses to complete reading our input until we take more
output, we get deadlock.

To fix this, we will use ThreadPool to do writes.

Bug: 1205764
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I8ed0930bd615bfe141ecfecf8e3fd8bbe59bd0c0">I8ed0930bd615bfe141ecfecf8e3fd8bbe59bd0c0</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/3790582">https://chromium-review.googlesource.com/c/chromium/src/+/3790582</a>
Commit-Queue: Joel Hockey &lt;joelhockey@chromium.org&gt;
Reviewed-by: Jason Lin &lt;lxj@google.com&gt;
Reviewed-by: Toni Barzic &lt;tbarzic@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#1029507}
</pre>

</body>
</html>
