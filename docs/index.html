<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/871128/"> 871128</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/426ce502e73a8cd4727485b3154e5e6bb136f0e7">426ce502e73a8cd4727485b3154e5e6bb136f0e7</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/871124/">871124</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/ab645055ec6e0bdd7226f49fa55f8dca322e186a">ab645055ec6e0bdd7226f49fa55f8dca322e186a</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   426ce502e73a8cd4727485b3154e5e6bb136f0e7
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/426ce502e73a8cd4727485b3154e5e6bb136f0e7">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/426ce502e73a8cd4727485b3154e5e6bb136f0e7.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Joe DeBlasio &lt;jdeblasio@chromium.org&gt;
  </td>
  <td>
   Fri Apr 09 22:03:39 2021
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Fri Apr 09 22:03:39 2021
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/426ce502e73a8cd4727485b3154e5e6bb136f0e7/">
    b182564ae303f61d648ea4707d613dc34f89f80c
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/426ce502e73a8cd4727485b3154e5e6bb136f0e7%5E">
    94817bd7b6f65b72683d8c6fd17a86b728967e20
   </a>
   <span>
    [
    <a href="/chromium/src/+/426ce502e73a8cd4727485b3154e5e6bb136f0e7%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">[MIX-DL] Fix blob: URL handling and clarify console messages

This CL fixes a bug wherein the final URL in a redirect chain was
considered as part of the middle of the redirect chain. This resulted in
two seemingly-unrelated bugs:
 * The console message always said that blocked downloads were
   "redirected through" an insecure URL, even if there were no
   redirects/the redirects were all secure.
 * file:// and blob:// URLs were considered insecure, even when you got
   there through secure means, and even though we had tried to
   special-case them.

The only non-test change in this CL is to exclude the last URL in the
redirect chain when considering redirects, since the last URL in the
chain is always the final URL.

This CL also adds a test for the blob case, and fixes the test harness
so that the redirect chain behavior is consistent with Chrome (it
previously was not including the final URL in the chain).

Bug: 1197573
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I1e624a31b47fd3f90aec5bb3032f74d19d2b47e4">I1e624a31b47fd3f90aec5bb3032f74d19d2b47e4</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/2818720">https://chromium-review.googlesource.com/c/chromium/src/+/2818720</a>
Commit-Queue: Joe DeBlasio &lt;jdeblasio@chromium.org&gt;
Reviewed-by: Mustafa Emre Acer &lt;meacer@chromium.org&gt;
Reviewed-by: Xing Liu &lt;xingliu@chromium.org&gt;
Cr-Commit-Position: refs/heads/master@{#871128}
</pre>

</body>
</html>
