<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<link href="https://chromium.googlesource.com/+static/base.css" rel="stylesheet"/>
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

<table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/1586195/"> 1586195</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/ac6ea7f88a3677b28bdb321e9da98813558b530c">ac6ea7f88a3677b28bdb321e9da98813558b530c</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/1586185/">1586185</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/090ea564fd2011e2db9dfc75934c668e5d23ff38">090ea564fd2011e2db9dfc75934c668e5d23ff38</a></td>
     </tbody>
    </table>
<hr><dl class="Metadata-descriptionList">
 <div class="Metadata-row">
  <dt class="Metadata-title">
   commit
  </dt>
  <dd class="Metadata-description">
   <div class="Metadata-descriptionCell">
    ac6ea7f88a3677b28bdb321e9da98813558b530c
   </div>
   <div class="Metadata-descriptionCell">
    <span>
     [
     <a href="https://chromium.googlesource.com/chromium/src/+log/ac6ea7f88a3677b28bdb321e9da98813558b530c">
      log
     </a>
     ]
    </span>
    <span>
     [
     <a href="https://chromium.googlesource.com/chromium/src/+archive/ac6ea7f88a3677b28bdb321e9da98813558b530c.tar.gz">
      tgz
     </a>
     ]
    </span>
   </div>
  </dd>
 </div>
 <div class="Metadata-row">
  <dt class="Metadata-title">
   author
  </dt>
  <dd class="Metadata-description">
   <div class="Metadata-descriptionCell">
    Anoop Pandey &lt;anpandey@microsoft.com&gt;
   </div>
   <div class="Metadata-descriptionCell">
    Wed Feb 18 04:20:16 2026
   </div>
  </dd>
 </div>
 <div class="Metadata-row">
  <dt class="Metadata-title">
   committer
  </dt>
  <dd class="Metadata-description">
   <div class="Metadata-descriptionCell">
    Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
   </div>
   <div class="Metadata-descriptionCell">
    Wed Feb 18 04:20:16 2026
   </div>
  </dd>
 </div>
 <div class="Metadata-row">
  <dt class="Metadata-title">
   tree
  </dt>
  <dd class="Metadata-description">
   <div class="Metadata-descriptionCell">
    <a href="https://chromium.googlesource.com/chromium/src/+/ac6ea7f88a3677b28bdb321e9da98813558b530c/">
     1b4bb5f1cf6e9ea985ba3774cfe939c2d47d418d
    </a>
   </div>
  </dd>
 </div>
 <div class="Metadata-row">
  <dt class="Metadata-title">
   parent
  </dt>
  <dd class="Metadata-description">
   <div class="Metadata-descriptionCell">
    <a href="https://chromium.googlesource.com/chromium/src/+/ac6ea7f88a3677b28bdb321e9da98813558b530c%5E">
     70d605ff7cf7c6c86f4f800e8cc1b4dc80d2fd6d
    </a>
    <span>
     [
     <a href="https://chromium.googlesource.com/chromium/src/+/ac6ea7f88a3677b28bdb321e9da98813558b530c%5E%21/">
      diff
     </a>
     ]
    </span>
   </div>
  </dd>
 </div>
</dl>
<hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">webium: Fix JavaScript dialogs not showing in second Browser window

WebUIBrowserWindow never called Browser::DidBecomeActive() or
DidBecomeInactive(), so BrowserList::GetLastActive() (called by
TabModalDialogManager::RunJavaScriptDialog via
!delegate_-&gt;IsWebContentsForemost()) returned stale results when
multiple browser windows existed. This caused JavaScript dialogs
(alert/confirm/prompt) to remain in a pending state until the next
visibility change.

This fix aligns WebUIBrowserWindow with how BrowserView
handles active state tracking and window showing.

Changes:
- Register a PaintAsActiveChanged callback on the widget to
  track active/inactive state via DidBecomeActive() and
  DidBecomeInactive(). Using ShouldPaintAsActive() instead of
  OnWidgetActivationChanged() correctly handles child widget
  activation (e.g. modal dialogs) without incorrectly marking
  the browser as inactive. This matches BrowserView's approach
  via BrowserWidget::RegisterPaintAsActiveChangedCallback().
- Remove premature widget_-&gt;Show() from the constructor.
  StartupBrowserCreator calls Show() after the Browser is
  fully constructed and added to BrowserList, so showing
  from the constructor is unnecessary.
- Move SetInitialFocus() from the constructor into Show(),
  after widget_-&gt;Show(), for the same reason â€” focusing
  triggers widget activation via the WebContents focus chain.
- Implement Show() to activate the widget if already visible,
  otherwise show it. On non-Windows/ChromeOS, explicitly call
  DidBecomeActive() since those platforms don't trigger
  OnWidgetActivationChanged() synchronously. This follows
  the same pattern as BrowserView::Show().

Bug: 483220229
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/Iea5097be016ef76077a0d99f6010049d936879c0">Iea5097be016ef76077a0d99f6010049d936879c0</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/7563209">https://chromium-review.googlesource.com/c/chromium/src/+/7563209</a>
Reviewed-by: Keren Zhu &lt;kerenzhu@chromium.org&gt;
Commit-Queue: Keren Zhu &lt;kerenzhu@chromium.org&gt;
Reviewed-by: Tom Lukaszewicz &lt;tluk@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#1586195}
</pre>

</body>
</html>
