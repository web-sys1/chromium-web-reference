<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/1107234/"> 1107234</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/45c4ab8590667a11031a993e9d782d7995286e6c">45c4ab8590667a11031a993e9d782d7995286e6c</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/1107227/">1107227</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/4da68e8f394bdb84ed4dc0f8ad4b3738638447fb">4da68e8f394bdb84ed4dc0f8ad4b3738638447fb</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   45c4ab8590667a11031a993e9d782d7995286e6c
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/45c4ab8590667a11031a993e9d782d7995286e6c">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/45c4ab8590667a11031a993e9d782d7995286e6c.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Ken Rockot &lt;rockot@google.com&gt;
  </td>
  <td>
   Sun Feb 19 07:49:31 2023
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Sun Feb 19 07:49:31 2023
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/45c4ab8590667a11031a993e9d782d7995286e6c/">
    8a48cec6adee5ca899b7f0a00210bcc46a086a7f
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/45c4ab8590667a11031a993e9d782d7995286e6c%5E">
    44790115abc9833bcd2bc253fc384c9ee4b39fa1
   </a>
   <span>
    [
    <a href="/chromium/src/+/45c4ab8590667a11031a993e9d782d7995286e6c%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">Fix potential UB in ipcz and Mojo

Various message sizes and field layouts were not properly aligned,
introducing potential UB when serializing or deserializing internal
ipcz messages or MojoIpcz driver objects.

This change corrects such issues and adds some new guards against
future misalignment.

This also adds some validation to ensure that extensible structs
(including the MessageHeader itself) encode a properly aligned
aligned struct size when received over an ipcz transport.

A few instances of memcpy() called with a nullptr (albeit with
zero size) have been corrected too, since UBSan complains about
that.

RouterDescriptor and FragmentDescriptor can now be properly
classified as trivially copyable so that UBSan doesn't complain
about memcpying them.

Finally, this corrects a minor encoding mistake in MojoIpcz'
SharedBuffer header, where the struct size field was used to convey
the buffer size, and the buffer size field was unused.

Fixed: 1412962
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I3e7da73a313d0c758e55429f6e49fe5285278b6c">I3e7da73a313d0c758e55429f6e49fe5285278b6c</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/4265194">https://chromium-review.googlesource.com/c/chromium/src/+/4265194</a>
Commit-Queue: Ken Rockot &lt;rockot@google.com&gt;
Reviewed-by: Daniel Cheng &lt;dcheng@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#1107234}
</pre>

</body>
</html>
