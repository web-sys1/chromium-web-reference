<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/1491799/"> 1491799</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/64385cd5c914ebab8a34b4a1a3a0478ba63fc345">64385cd5c914ebab8a34b4a1a3a0478ba63fc345</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/1491797/">1491797</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/b7e4323856ec949328361530096efa7debee7635">b7e4323856ec949328361530096efa7debee7635</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   64385cd5c914ebab8a34b4a1a3a0478ba63fc345
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/64385cd5c914ebab8a34b4a1a3a0478ba63fc345">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/64385cd5c914ebab8a34b4a1a3a0478ba63fc345.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Chang Liu &lt;changliu1@microsoft.com&gt;
  </td>
  <td>
   Fri Jul 25 01:54:08 2025
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Fri Jul 25 01:54:08 2025
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/64385cd5c914ebab8a34b4a1a3a0478ba63fc345/">
    a59af5afd30908d71c4e95f73c07be0ec23f968d
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/64385cd5c914ebab8a34b4a1a3a0478ba63fc345%5E">
    c07c367835b382cdb0efdc02169be0ec622aab46
   </a>
   <span>
    [
    <a href="/chromium/src/+/64385cd5c914ebab8a34b4a1a3a0478ba63fc345%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table>
<hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">Prevent navigation to browsers that are closing

This CL fixes an issue where WebContents can be added to a Browser
that is in the process of closing, leading to improper cleanup and
potential resource leaks.

The issue manifests in the following sequence: 1. A Browser window
starts closing (IsBrowserClosing() becomes true) 2. A navigation
request(e.g., opening Downloads tab from dialog) attempts to add
WebContents to that Browser
3. This leads to a DUMP_WILL_BE_CHECK failure in
Browser::OnTabInsertedAt

The fix adds an early check in the Navigate() function to prevent
adding tabs to browsers that are closing. The check is placed
alongside the existing profile shutdown check for consistency
and uses IsBrowserClosing() which provides broader coverage than
is_delete_scheduled() as it becomes true earlier in the
closing process.

Bug: 40927136
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/Iedbdd27ebab80ff312b18b261f68b08b793b98db">Iedbdd27ebab80ff312b18b261f68b08b793b98db</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/6780027">https://chromium-review.googlesource.com/c/chromium/src/+/6780027</a>
Reviewed-by: Elly FJ &lt;ellyjones@chromium.org&gt;
Commit-Queue: Chang Liu &lt;changliu1@microsoft.com&gt;
Reviewed-by: Dana Fried &lt;dfried@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#1491799}
</pre>

</body>
</html>
