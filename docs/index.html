<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/1004179/"> 1004179</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/9c8b08c61a3308ceef5fa86e26808eaaeb17efb3">9c8b08c61a3308ceef5fa86e26808eaaeb17efb3</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/1004176/">1004176</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/b5be32cd9f1c45624ecbd898ef3cd60b6ea22a16">b5be32cd9f1c45624ecbd898ef3cd60b6ea22a16</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   9c8b08c61a3308ceef5fa86e26808eaaeb17efb3
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/9c8b08c61a3308ceef5fa86e26808eaaeb17efb3">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/9c8b08c61a3308ceef5fa86e26808eaaeb17efb3.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Takashi Toyoshima &lt;toyoshim@chromium.org&gt;
  </td>
  <td>
   Tue May 17 10:11:33 2022
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Tue May 17 10:11:33 2022
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/9c8b08c61a3308ceef5fa86e26808eaaeb17efb3/">
    1e7c6dcc129e7c4ab3f57d205bb8cd7dc631b30b
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/9c8b08c61a3308ceef5fa86e26808eaaeb17efb3%5E">
    73688e110bc44bc2aec2c4fb6609d207c8fa201b
   </a>
   <span>
    [
    <a href="/chromium/src/+/9c8b08c61a3308ceef5fa86e26808eaaeb17efb3%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">PageLoadMetrics: Do not create new PageLoadTracker during activation

Current MetricsWebContentsObserver creates a new PageLoadTracker for
a prerendered page activation, uses it while the navigation is
provisional, and switches to use the original PageLoadTracker on
committing the activation. This was not an intentional behavior.

This patch stops creating a new PageLoadTracker for the provisional
navigation that activates the prerendered page, and use the same
PageLoadTracker consistently from the initial navigation through to
the activation. With this fix, we don't create a new PageLoadTracker
and observers that will see an unexpected normal page navigation
(OnStart and OnCommit) during the prerender activation, and stop
polluting existing metrics. Observers for prerendering (started with
OnPrerenderStart) continue working without any behavioral change.

For testing, this patch moves ActivatePrerenderedPage functionality
to TestWebContents so that unit tests outside content/ can use it.
This replaces local ActivatePrerenderdPage functions in two test
files. Also, this patch replaces ActivationObserver with the content's
PrerenderHostObserver.

Change-Id: <a href="https://chromium-review.googlesource.com/#/q/Ieab534d0913f1c1ceabb8d0651f6b969ff77d8f9">Ieab534d0913f1c1ceabb8d0651f6b969ff77d8f9</a>
Bug: 1301880
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/3634214">https://chromium-review.googlesource.com/c/chromium/src/+/3634214</a>
Commit-Queue: Takashi Toyoshima &lt;toyoshim@chromium.org&gt;
Reviewed-by: Scott Violet &lt;sky@chromium.org&gt;
Reviewed-by: Kouhei Ueno &lt;kouhei@chromium.org&gt;
Reviewed-by: Hiroki Nakagawa &lt;nhiroki@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#1004179}
</pre>

</body>
</html>
