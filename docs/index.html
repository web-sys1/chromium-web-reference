<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/934031/"> 934031</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/56118287fa30280c1b841c45252fcef385b24d7d">56118287fa30280c1b841c45252fcef385b24d7d</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/934023/">934023</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/1c95896f4fd308af5c249650bc976e73d3434f05">1c95896f4fd308af5c249650bc976e73d3434f05</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   56118287fa30280c1b841c45252fcef385b24d7d
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/56118287fa30280c1b841c45252fcef385b24d7d">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/56118287fa30280c1b841c45252fcef385b24d7d.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Owen Wiggins &lt;owx@chromium.org&gt;
  </td>
  <td>
   Thu Oct 21 21:05:24 2021
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Thu Oct 21 21:05:24 2021
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/56118287fa30280c1b841c45252fcef385b24d7d/">
    6fef4efeae6ebac453e27864aca62f019ff25c6f
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/56118287fa30280c1b841c45252fcef385b24d7d%5E">
    bc95cd2085740227611fc06716d31759adc6400e
   </a>
   <span>
    [
    <a href="/chromium/src/+/56118287fa30280c1b841c45252fcef385b24d7d%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">Close Message Center Bubble asynchronously in destructor.

The Message Center and Quick Settings UI are peers owned by the Unified
System Tray. Previously, when all notifications in the Message Center
were removed, the Message Center would be in an unusual state - it would
be hidden, but still active and focused. When the Esc accelerator is
processed by the focus manager of the Unified System Tray, it would free
the Message Center Bubble and close the widget synchronously from the
destructor, causing NativeWidgetAura to fail when the Window properties
are accessed after it has been freed from the heap.

This fix changes the Message Center Bubble destructor to asynchronously
close its widget. This retains the Widget after the
NativeWidgetAura::Hide() call in NativeWidgetAura::Close(), preventing
the window_ pointer from becoming invalid. The remaining logic for
next/previous focusable already handles this state correctly -it won't
focus the Message Center with Tab or Shift+Tab.

Bug: 1251351
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I924c222c4bbfe08ea7a3e620531cee92d70596b3">I924c222c4bbfe08ea7a3e620531cee92d70596b3</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/3207232">https://chromium-review.googlesource.com/c/chromium/src/+/3207232</a>
Commit-Queue: Owen Wiggins &lt;owx@chromium.org&gt;
Reviewed-by: Ahmed Mehfooz &lt;amehfooz@chromium.org&gt;
Reviewed-by: Alex Newcomer &lt;newcomer@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#934031}
</pre>

</body>
</html>
