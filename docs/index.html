<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/937305/"> 937305</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/678daaf6544d26b00ede69d9f0b5ffa3a017417f">678daaf6544d26b00ede69d9f0b5ffa3a017417f</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/937284/">937284</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/7e3529e16195c6a241b14b22ff19b9a86fd52741">7e3529e16195c6a241b14b22ff19b9a86fd52741</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   678daaf6544d26b00ede69d9f0b5ffa3a017417f
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/678daaf6544d26b00ede69d9f0b5ffa3a017417f">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/678daaf6544d26b00ede69d9f0b5ffa3a017417f.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   David Tseng &lt;dtseng@google.com&gt;
  </td>
  <td>
   Tue Nov 02 13:33:55 2021
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Tue Nov 02 13:33:55 2021
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/678daaf6544d26b00ede69d9f0b5ffa3a017417f/">
    e6fb59098909143b3ab38fd0a3684aeabaf69994
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/678daaf6544d26b00ede69d9f0b5ffa3a017417f%5E">
    9acaed067337e0f2fe7d65b11578fe9a22c28611
   </a>
   <span>
    [
    <a href="/chromium/src/+/678daaf6544d26b00ede69d9f0b5ffa3a017417f%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">ChromeVox: prefer live region output in speech

In ordinary tree update processing, ChromeVox emits live regions after
other events. This was partly because ChromeVox would flush some speech,
e.g. from focus events, which would cause live regions to be
interrupted.

Fix this by auditing all output callsites and modify them to use
QueueMode.QUEUE or QueueMode.CATEGORY_FLUSH if a live region might be
expected before. Category flush speech will not interrupt previous
speech if it isn't in the same category i.e. live region vs navigation
categories.

Note that QueueMode.QUEUE is the default used by the Output module
(i.e. used if no queue mode is specified). This is fine in most cases
because ChromeVox "forces" a category flush queue mode when a user
invokes a key, does a gesture, or presses a braille key.

Fixed: 1220814
Test: cq and existing coverage
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/Ica85ce6641ab5eaf3b0b885a2bf2b6fb5ee34ff3">Ica85ce6641ab5eaf3b0b885a2bf2b6fb5ee34ff3</a>
AX-Relnotes: ChromeVox will now prefer a live region announcement if it happens at the same time as some other events e.g. focus.
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/3253887">https://chromium-review.googlesource.com/c/chromium/src/+/3253887</a>
Commit-Queue: David Tseng &lt;dtseng@chromium.org&gt;
Reviewed-by: Akihiro Ota &lt;akihiroota@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#937305}
</pre>

</body>
</html>
