<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/1570694/"> 1570694</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/3e0fd5a93d1e5b0042e2aedfc6008f5e1bc1f2b9">3e0fd5a93d1e5b0042e2aedfc6008f5e1bc1f2b9</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/1570712/">1570712</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/b376e6a0c4428f7a5f0cb44e6cc49db835d61ac1">b376e6a0c4428f7a5f0cb44e6cc49db835d61ac1</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   3e0fd5a93d1e5b0042e2aedfc6008f5e1bc1f2b9
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/3e0fd5a93d1e5b0042e2aedfc6008f5e1bc1f2b9">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/3e0fd5a93d1e5b0042e2aedfc6008f5e1bc1f2b9.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Tim Judkins &lt;tjudkins@chromium.org&gt;
  </td>
  <td>
   Sat Jan 17 00:25:26 2026
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Sat Jan 17 00:25:26 2026
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/3e0fd5a93d1e5b0042e2aedfc6008f5e1bc1f2b9/">
    fd3c815b37f0c2b3c41e1f64141be07341fd84a8
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/3e0fd5a93d1e5b0042e2aedfc6008f5e1bc1f2b9%5E">
    a20c038037d2b5d414a9debbc7c3126bcf4602d2
   </a>
   <span>
    [
    <a href="/chromium/src/+/3e0fd5a93d1e5b0042e2aedfc6008f5e1bc1f2b9%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table>
<hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">[Extensions] Remove context restrictions for Promise API signatures

This CL strips out the code that was used to restrict which contexts
Promise signatures for extension APIs were exposed in, opening them up
now for all callers.

It also adjusts a fair number of tests which were specifically verifying
this previous behavior, or relying on it in one way or another. One of
the less obvious of these is that a lot of messaging tests need to now
expect that message ports will remain open even if a callback was not
passed, as we can no longer know they can be closed immediately based on
the callback presence.

Although this is technically a behavior change, MV3 extensions are
already operating this way so will see no change at all, and normal
usage of APIs for &lt;MV3 extensions shouldn't be affected either (now
function calls which were already omitting a callback will get a Promise
returned instead of undefined). Since &lt;MV3 extensions are deprecated and
unsupported at this point, we consider this slight change fine.

We also assume this will be fairly safe for platform apps (which are
also deprecated), but there's a very small chance we may need to add
this logic back in if it breaks something critical (because although
they are deprecated, they still need to be supported in some cases).

Bug: 475579179
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I0911676973cd3e2638c655503acd6dfa7874904b">I0911676973cd3e2638c655503acd6dfa7874904b</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/7428247">https://chromium-review.googlesource.com/c/chromium/src/+/7428247</a>
Reviewed-by: Devlin Cronin &lt;rdevlin.cronin@chromium.org&gt;
Commit-Queue: Tim &lt;tjudkins@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#1570694}
</pre>

</body>
</html>
