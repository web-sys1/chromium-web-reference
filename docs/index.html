<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/1451420/"> 1451420</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/82cb8b6ee8f44d236edbd71efd9daee1fff18759">82cb8b6ee8f44d236edbd71efd9daee1fff18759</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/1451358/">1451358</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/c4d9281b4e60d54f0a853a12add886796b0fc714">c4d9281b4e60d54f0a853a12add886796b0fc714</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   82cb8b6ee8f44d236edbd71efd9daee1fff18759
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/82cb8b6ee8f44d236edbd71efd9daee1fff18759">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/82cb8b6ee8f44d236edbd71efd9daee1fff18759.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Andrew Paseltiner &lt;apaseltiner@chromium.org&gt;
  </td>
  <td>
   Thu Apr 24 20:43:13 2025
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Thu Apr 24 20:43:13 2025
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/82cb8b6ee8f44d236edbd71efd9daee1fff18759/">
    e67b6cc5f07860035cf0ecbb1ae61dfe7024a1d9
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/82cb8b6ee8f44d236edbd71efd9daee1fff18759%5E">
    7a298777fc1459ec46d0eba624cf794874101ce4
   </a>
   <span>
    [
    <a href="/chromium/src/+/82cb8b6ee8f44d236edbd71efd9daee1fff18759%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table>
<hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">Optimize base::DictValue::Merge

1. Skip all lookups when the dictionary being merged into is empty, and
instead replace this with the dictionary being merged from.

2. Reuse keys and value wrappers. By iterating over the dictionary
storage directly, we can move the std::unique_ptr&lt;Value&gt; between the two
dictionaries, rather than unwrapping it in the public iterator and
re-wrapping it in the call to Set. Similarly, this allows us to move the
std::string keys between the two, avoiding unnecessary string copies.

3. Unconditionally perform a single key lookup using try_emplace instead
of performing two in the case that the to-be-merged value is a
dictionary but the existing one is not.

Note that this is still not completely optimal, as existing entries may
need to be shifted repeatedly in the underlying vector storage (consider
`[d, e, f].merge([a, b, c])`), though this issue is not something
prominently advertised in DictValue's documentation even though it also
applies to repeated calls to Set in general. Addressing this for Merge
would drastically increase the code complexity, so we leave it for now.

Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I7ed579d846ea204b6881d8b12543f03f6e195782">I7ed579d846ea204b6881d8b12543f03f6e195782</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/6483669">https://chromium-review.googlesource.com/c/chromium/src/+/6483669</a>
Reviewed-by: Daniel Cheng &lt;dcheng@chromium.org&gt;
Commit-Queue: Andrew Paseltiner &lt;apaseltiner@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#1451420}
</pre>

</body>
</html>
