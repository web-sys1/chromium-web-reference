<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/1350530/"> 1350530</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/af66eb6df8982f0694de6f33d5799a58e765aea1">af66eb6df8982f0694de6f33d5799a58e765aea1</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/1350512/">1350512</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/c8603b177a7ef0c251e3025f3006a475780c6738">c8603b177a7ef0c251e3025f3006a475780c6738</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   af66eb6df8982f0694de6f33d5799a58e765aea1
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/af66eb6df8982f0694de6f33d5799a58e765aea1">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/af66eb6df8982f0694de6f33d5799a58e765aea1.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Erik Chen &lt;erikchen@chromium.org&gt;
  </td>
  <td>
   Wed Sep 04 01:11:58 2024
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Wed Sep 04 01:11:58 2024
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/af66eb6df8982f0694de6f33d5799a58e765aea1/">
    66c715b915cc777cd531d0b0b2753e60c2acce85
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/af66eb6df8982f0694de6f33d5799a58e765aea1%5E">
    532c06f11d355f6e5f8c2308c02e9835deed5ee8
   </a>
   <span>
    [
    <a href="/chromium/src/+/af66eb6df8982f0694de6f33d5799a58e765aea1%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table>
<hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">Move extension loading logic to ReadAnythingService.

This CL makes two changes:
(1) It removes dead code from ReadAnythingCoordinator
(2) It moves the extension loading logic to ReadAnythingService.

The logic for (2) is moved wholesale. In the process this fixes 3 bugs
and identifies a fourth.
Bug 1: The timer to uninstall extensions was repeating when it should
have been one-shot.
Bug 2: If multiple windows are simultaneously using read anything, and
the side panel is closed on one window, the extension will be
uninstalled for the whole profile.
Bug 3: If any window is closed, the extension will be uninstalled for
the whole profile.
Bug 4: If the extension is installed but the feature is disabled (which
can happen for example if the previous run of chrome installed the
extension and then crashed), the logic to uninstall the extension will
never trigger. Documented at issue 362787711

Previously, if multiple windows were simultaneously
using read anything, then the extension could be uninstalled while the
side panel was still in use.

Bug: 355485153, 362787711
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/If94eebb46310cd5ae6f2ebc3a18fe8d7715710e2">If94eebb46310cd5ae6f2ebc3a18fe8d7715710e2</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/5801375">https://chromium-review.googlesource.com/c/chromium/src/+/5801375</a>
Reviewed-by: Abigail Klein &lt;abigailbklein@google.com&gt;
Code-Coverage: findit-for-me@appspot.gserviceaccount.com &lt;findit-for-me@appspot.gserviceaccount.com&gt;
Commit-Queue: Erik Chen &lt;erikchen@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#1350530}
</pre>

</body>
</html>
