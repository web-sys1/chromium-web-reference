<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/1250893/"> 1250893</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/2d4aba427a7b39a8cf88164dd666bcf287a8fa89">2d4aba427a7b39a8cf88164dd666bcf287a8fa89</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/1250894/">1250894</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/9686b1aad9a828bc6aec0b123ebc90973c7e40c9">9686b1aad9a828bc6aec0b123ebc90973c7e40c9</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   2d4aba427a7b39a8cf88164dd666bcf287a8fa89
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/2d4aba427a7b39a8cf88164dd666bcf287a8fa89">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/2d4aba427a7b39a8cf88164dd666bcf287a8fa89.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Andres Ricardo Perez &lt;andresrperez@chromium.org&gt;
  </td>
  <td>
   Tue Jan 23 17:15:42 2024
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Tue Jan 23 17:15:42 2024
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/2d4aba427a7b39a8cf88164dd666bcf287a8fa89/">
    f46f7729d00e13c17a06c948862e6c5a98367186
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/2d4aba427a7b39a8cf88164dd666bcf287a8fa89%5E">
    358a94f407c7c185db594fcdb05487743e91f494
   </a>
   <span>
    [
    <a href="/chromium/src/+/2d4aba427a7b39a8cf88164dd666bcf287a8fa89%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table>
<hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">Throw exceptions for malformed operations while layers are opened

Since layers are only filtered and composited into their parent bitmap
once the layer is closed, operations that access bitmap pixels are
malformed if there are layers open.

This can happen when reading the pixels from the canvas (for example
with `getImageData`) or directly overwriting pixels (with
`putImageData`).

With this change, exceptions are thrown for these operations when used
with open layers. Promises also fail in the case of `createImageBitmap`
and `convertToBlob`. Some APIs already had this behavior, but this CL
extends that logic to all APIs accessing bitmap pixels.

The existing tests for unclosed layers had to be moved to manual, since
for the offscreen and worker cases the generator uses methods that now
throw exceptions.

Bug: 1396372
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I3e187c9ae4f68135219a6178adf079616c470f9b">I3e187c9ae4f68135219a6178adf079616c470f9b</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/5075139">https://chromium-review.googlesource.com/c/chromium/src/+/5075139</a>
Reviewed-by: Jean-Philippe Gravel &lt;jpgravel@chromium.org&gt;
Commit-Queue: Andres Ricardo Perez Rojas &lt;andresrperez@chromium.org&gt;
Reviewed-by: Aaron Krajeski &lt;aaronhk@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#1250893}
</pre>

</body>
</html>
