<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/1045498/"> 1045498</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/e3e8da082354690889694344260280a8675f99e8">e3e8da082354690889694344260280a8675f99e8</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/1045496/">1045496</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/6a433f15be1dbfd2806fd6ba5bf70acfc96d9112">6a433f15be1dbfd2806fd6ba5bf70acfc96d9112</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   e3e8da082354690889694344260280a8675f99e8
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/e3e8da082354690889694344260280a8675f99e8">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/e3e8da082354690889694344260280a8675f99e8.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Xinghui Lu &lt;xinghuilu@chromium.org&gt;
  </td>
  <td>
   Sat Sep 10 07:46:03 2022
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Sat Sep 10 07:46:03 2022
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/e3e8da082354690889694344260280a8675f99e8/">
    a61dbdd2642616e86c9f4a298a71cf3ff564d8ce
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/e3e8da082354690889694344260280a8675f99e8%5E">
    a4de08ccb22bd265b95c858103989c5079d01a7c
   </a>
   <span>
    [
    <a href="/chromium/src/+/e3e8da082354690889694344260280a8675f99e8%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">Get download verdict in CSBRR from download item user data.

Previously, the download verdict is obtained by remapping the danger
type back to the download verdict. However, this is not accurate if
the user has already bypassed the warning. The danger type at that
point is DOWNLOAD_DANGER_TYPE_USER_VALIDATED, which will be mapped to
the safe verdict.

In this CL, rename DownloadPingToken to DownloadProtectionData, and
extend it to store the original verdict. When constructing CSBRR,
obtain it directly from DownloadProtectionData.

Bug: 1358262
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I2c2d50059517700be2bb59f58eeab2fce4af0184">I2c2d50059517700be2bb59f58eeab2fce4af0184</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/3884803">https://chromium-review.googlesource.com/c/chromium/src/+/3884803</a>
Reviewed-by: Min Qin &lt;qinmin@chromium.org&gt;
Reviewed-by: thefrog &lt;thefrog@chromium.org&gt;
Commit-Queue: Xinghui Lu &lt;xinghuilu@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#1045498}
</pre>

</body>
</html>
