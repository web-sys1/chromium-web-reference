<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/1515701/"> 1515701</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/4502cd6126b6ddb448b201b4931ddd29815d5264">4502cd6126b6ddb448b201b4931ddd29815d5264</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/1515689/">1515689</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/6f1f658f48384d6563023e27ce6688a9e1ff5779">6f1f658f48384d6563023e27ce6688a9e1ff5779</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   4502cd6126b6ddb448b201b4931ddd29815d5264
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/4502cd6126b6ddb448b201b4931ddd29815d5264">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/4502cd6126b6ddb448b201b4931ddd29815d5264.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Scott Haseley &lt;shaseley@chromium.org&gt;
  </td>
  <td>
   Mon Sep 15 20:50:46 2025
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Mon Sep 15 20:50:46 2025
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/4502cd6126b6ddb448b201b4931ddd29815d5264/">
    daf2a00a50e69d60e5413618d48ece0822879226
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/4502cd6126b6ddb448b201b4931ddd29815d5264%5E">
    bf004a7f56c7a93b141dc62eb79ae7417126df6d
   </a>
   <span>
    [
    <a href="/chromium/src/+/4502cd6126b6ddb448b201b4931ddd29815d5264%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table>
<hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">[soft navs] Fix image pseudo element handling in pre-paint mode

NotifyBackgroundImagePaint() is called with the "generating node",
which for pseudo elements is the parent node, not the node itself, but
SoftNavigationPaintAttributionTracker was tracking the pseudo element,
which is node the image type layout object. This means unless the node
was directly added, we aren't tracking paints for it.

This CL fixes this by using the generating node during the pre-paint
walk. This also lifts the generating node function into a helper class
and uses that in both places. This also lifts the IsImageType() helper
into that utils class, resolving a TODO.

Note: node-with-image-pseudo-element-and-text.html fails with pre-paint
mode disabled because the current stable mode ignores repaints, and the
same node is considered painted for both the text and image.

Fixed: 444653105
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/Ic8d9927620b687fe57a396591bdebca27215ffdb">Ic8d9927620b687fe57a396591bdebca27215ffdb</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/6944138">https://chromium-review.googlesource.com/c/chromium/src/+/6944138</a>
Reviewed-by: Jeremy Roman &lt;jbroman@chromium.org&gt;
Commit-Queue: Scott Haseley &lt;shaseley@chromium.org&gt;
Reviewed-by: Michal Mocny &lt;mmocny@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#1515701}
</pre>

</body>
</html>
