<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/927683/"> 927683</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/87163db39d53e95e29a312958b60f07e4796a4b4">87163db39d53e95e29a312958b60f07e4796a4b4</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/927685/">927685</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/7a815cf22747cd912cc9cbcee59a858aa7f9a299">7a815cf22747cd912cc9cbcee59a858aa7f9a299</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   87163db39d53e95e29a312958b60f07e4796a4b4
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/87163db39d53e95e29a312958b60f07e4796a4b4">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/87163db39d53e95e29a312958b60f07e4796a4b4.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Chinglin Yu &lt;chinglinyu@chromium.org&gt;
  </td>
  <td>
   Mon Oct 04 15:10:22 2021
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Mon Oct 04 15:10:22 2021
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/87163db39d53e95e29a312958b60f07e4796a4b4/">
    7f13bfb07af7bf8e4c6c75179c0de9464ad8b80d
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/87163db39d53e95e29a312958b60f07e4796a4b4%5E">
    9f6cc7a9f677ae273e411eabf04bb511ee19a4fb
   </a>
   <span>
    [
    <a href="/chromium/src/+/87163db39d53e95e29a312958b60f07e4796a4b4%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">base/tracing: Fix FD watching error in PerfettoTaskRunner

This fixes a crash in FD watching of PerfettoTaskRunner. When a FD is
added, removed and then added for watching, the pending tasks posted in
the add operations can cause repeated watching of the same FD to cause a
crash when the 2nd remove operation fails.

Fix the crash by canceling the pending task in the add operation to make
sure there is only one valid pending task to watch the FD.

Bug: 996777
Test: base_unittests: PerfettoTaskRunnerTest.FileDescriptorReuse

Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I7b52a3f82e9139dc0806709bd361fd6f5a5868a7">I7b52a3f82e9139dc0806709bd361fd6f5a5868a7</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/3198065">https://chromium-review.googlesource.com/c/chromium/src/+/3198065</a>
Commit-Queue: Chinglin Yu &lt;chinglinyu@chromium.org&gt;
Reviewed-by: Eric Seckler &lt;eseckler@chromium.org&gt;
Reviewed-by: Stephen Nusko &lt;nuskos@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#927683}
</pre>

</body>
</html>
