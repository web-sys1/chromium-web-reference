<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/1074660/"> 1074660</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/07e9ba853470db3883945a30b99cf6f632b3bb73">07e9ba853470db3883945a30b99cf6f632b3bb73</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/1074637/">1074637</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/a7449c3b4b716dc1d1e844f155f2abebb959c1a0">a7449c3b4b716dc1d1e844f155f2abebb959c1a0</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   07e9ba853470db3883945a30b99cf6f632b3bb73
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/07e9ba853470db3883945a30b99cf6f632b3bb73">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/07e9ba853470db3883945a30b99cf6f632b3bb73.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Peter Wen &lt;wnwen@chromium.org&gt;
  </td>
  <td>
   Tue Nov 22 15:55:14 2022
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Tue Nov 22 15:55:14 2022
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/07e9ba853470db3883945a30b99cf6f632b3bb73/">
    b3b4a87fd1787dd4642ab9365057843f617b4afe
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/07e9ba853470db3883945a30b99cf6f632b3bb73%5E">
    e406ecc1fb52f1a4d9775bfa59ef7a0bafb85050
   </a>
   <span>
    [
    <a href="/chromium/src/+/07e9ba853470db3883945a30b99cf6f632b3bb73%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">Reland2: create_java_binary_script.py: Set -Xmx:1g by default

Modified2:
- Increased chrome_junit_tests max heap size to 4G since it OOM'ed with
  2G. Runtime normally without Xmx is ~6 mins. Runtime with 1G was about
  30 mins, with 2G about 9 mins, so I'm optimistic that 4G is
  sufficient. The bot has 32GB RAM so it can't be using much more than
  4G per shard, as the bot uses 4 shards.

First reland CL: <a href="https://crrev.com/c/4048064">https://crrev.com/c/4048064</a>

Modified:
- Added Include-Ci-Only-Tests footer to run CI tests on CQ.
- Added support for specifying max heap size in GN.
- Increased chrome_junit_tests max heap size to 2G since it OOM'ed with
  the default 1G the first time through.
- Migrated build/android/gyp/create_java_binary_script.py to argparse.

Original CL: <a href="https://crrev.com/c/3994324">https://crrev.com/c/3994324</a>

And add a flag to override it.

We should always set -Xmx for the same reason we set it in other build
scripts: We don't want different RAM usage limits on different bots. We
want RAM issues to fail the same way everywhere. We also don't want apps
using more RAM than necessary (e.g. by just not running GC), since we
often have other things going on at the same time (e.g. sharded tests,
other build steps).

This will affect some build steps that use the helper wrappers (e.g.
errorprone, bytecode checker), as well as robolectric tests (which
is what the associated bug is about).

I don't expect this to fix tests running out of memory, since it's
setting a low limit.

Spot-checking android-nougat-x86-rel for this change,
chrome_junit_tests goes from 1.6m -&gt; 1.9m. This is small enough
to not matter much for now, but we should follow-up with a change
to increase it for this test suite (or maybe for all robolectric
tests?)

Bug: 1380075, 1383587
Fixed: 1383587
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/Ie6828db41337f608688b2fdc714f1601e9bc19a4">Ie6828db41337f608688b2fdc714f1601e9bc19a4</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/4048024">https://chromium-review.googlesource.com/c/chromium/src/+/4048024</a>
Auto-Submit: Peter Wen &lt;wnwen@chromium.org&gt;
Commit-Queue: Andrew Grieve &lt;agrieve@chromium.org&gt;
Reviewed-by: Andrew Grieve &lt;agrieve@chromium.org&gt;
Commit-Queue: Peter Wen &lt;wnwen@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#1074660}
</pre>

</body>
</html>
