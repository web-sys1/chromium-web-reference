<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/856961/"> 856961</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/c5e427a2676cd5090037c4af346226998d97ce4f">c5e427a2676cd5090037c4af346226998d97ce4f</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/856960/">856960</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/b827496bccd33be197cf9e044ebd0046dc85c8b3">b827496bccd33be197cf9e044ebd0046dc85c8b3</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   c5e427a2676cd5090037c4af346226998d97ce4f
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/c5e427a2676cd5090037c4af346226998d97ce4f">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/c5e427a2676cd5090037c4af346226998d97ce4f.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Martin Kreichgauer &lt;martinkr@google.com&gt;
  </td>
  <td>
   Wed Feb 24 02:35:59 2021
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Wed Feb 24 02:35:59 2021
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/c5e427a2676cd5090037c4af346226998d97ce4f/">
    f1343ab9724458b27a167cf57906863c6e395f12
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/c5e427a2676cd5090037c4af346226998d97ce4f%5E">
    b827496bccd33be197cf9e044ebd0046dc85c8b3
   </a>
   <span>
    [
    <a href="/chromium/src/+/c5e427a2676cd5090037c4af346226998d97ce4f%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">fido: don't block the UI thread during IsUVPAA()

The implementation of IsUserVerifyingPlatformAuthenticatorAvailable()
was synchronous, but every OS's implementation relies on some form of
IPC and/or dynamic loading (macOS, CrOS, Windows). This worked fine for
the most part, except for macOS where the implementation talks to the
Security Framework which tends to stall or crash at random for a small
number of users.

This CL doesn't directly address the underlying hangs or crashes yet,
but makes the IsUVPAA() interface asynchronous, moves the
implementations off of the UI thread and makes call to external
libraries on Windows and macOS with the CONTINUE_ON_SHUTDOWN trait.
This should ensure that if these calls do hang, the browser stays
responsive and they don't block browser shutdown.

Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I84fcff3331830f842d92468decd713a7fd57aaf1">I84fcff3331830f842d92468decd713a7fd57aaf1</a>
Bug: 1168157, 1154063
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/2683862">https://chromium-review.googlesource.com/c/chromium/src/+/2683862</a>
Commit-Queue: Martin Kreichgauer &lt;martinkr@google.com&gt;
Reviewed-by: Avi Drissman &lt;avi@chromium.org&gt;
Reviewed-by: Adam Langley &lt;agl@chromium.org&gt;
Cr-Commit-Position: refs/heads/master@{#856961}
</pre>

</body>
</html>
