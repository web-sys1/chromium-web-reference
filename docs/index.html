<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/1199206/"> 1199206</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/3b1e13d1587a4e0f1869320ec1cf70d6d00adf11">3b1e13d1587a4e0f1869320ec1cf70d6d00adf11</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/1199185/">1199185</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/cfe4bcb0829ae46e26c241a4effa12a0163ed8e5">cfe4bcb0829ae46e26c241a4effa12a0163ed8e5</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   3b1e13d1587a4e0f1869320ec1cf70d6d00adf11
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/3b1e13d1587a4e0f1869320ec1cf70d6d00adf11">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/3b1e13d1587a4e0f1869320ec1cf70d6d00adf11.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Aaron Leventhal &lt;aleventhal@google.com&gt;
  </td>
  <td>
   Wed Sep 20 20:18:40 2023
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Wed Sep 20 20:18:40 2023
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/3b1e13d1587a4e0f1869320ec1cf70d6d00adf11/">
    f3b7866dd10e994809b43c6c759ddfb4625f7980
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/3b1e13d1587a4e0f1869320ec1cf70d6d00adf11%5E">
    c92304f2d4543ea21468e977f29939a1b921b4e4
   </a>
   <span>
    [
    <a href="/chromium/src/+/3b1e13d1587a4e0f1869320ec1cf70d6d00adf11%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table>
<hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">Use simple approach to invalidating aria-hidden subtrees

A general optimization for Chrome was landed in CL:4687538, which
invalidated cached values individual nodes rather than the entire
document, for small changes and updates to the layout and DOM.

However, aria-hidden changes require entire subtrees to be invalidated.
There are a couple of approaches that could work. The one taken
in the landing of CL:4687538 was to attempt to iterate the tree
while invalidating the objects. However, this led to an infinite
loop as invalidating cached objects affects tree walking.

A simpler approach is to reuse another method that works well,
RemoveSubtreeWhenSafe(). This wipes out the entire aria-hidden
subtree of AXObjects and recreates it. As aria-hidden is not
expected to change very often, this is believed to be performant
enough. In addition, this results in being able to remove
InvalidateCachedValuesOnSubtree() from the codebase, resulting
in simpler, cleaner code.

Fixed: 1484425
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I9dbe8cfb606e01f9a43d7d5150c9f7999cff543b">I9dbe8cfb606e01f9a43d7d5150c9f7999cff543b</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/4878298">https://chromium-review.googlesource.com/c/chromium/src/+/4878298</a>
Reviewed-by: Chris Harrelson &lt;chrishtr@chromium.org&gt;
Commit-Queue: Aaron Leventhal &lt;aleventhal@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#1199206}
</pre>

</body>
</html>
