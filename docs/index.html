<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/1112634/"> 1112634</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/0a262efc5780b540655cfeb06f71ff800f7347f3">0a262efc5780b540655cfeb06f71ff800f7347f3</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/1112599/">1112599</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/7f8a25ed7201c9394c28e66c71caf3bef7ddaaed">7f8a25ed7201c9394c28e66c71caf3bef7ddaaed</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   0a262efc5780b540655cfeb06f71ff800f7347f3
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/0a262efc5780b540655cfeb06f71ff800f7347f3">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/0a262efc5780b540655cfeb06f71ff800f7347f3.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Alexander Bolodurin &lt;alexbn@chromium.org&gt;
  </td>
  <td>
   Fri Mar 03 03:38:25 2023
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Fri Mar 03 03:38:25 2023
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/0a262efc5780b540655cfeb06f71ff800f7347f3/">
    bdbee44001e4b1bfa037b9cb1259f5ad6206adb9
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/0a262efc5780b540655cfeb06f71ff800f7347f3%5E">
    b82bcfe389910d61dfe809c8e135fde6a1cb1995
   </a>
   <span>
    [
    <a href="/chromium/src/+/0a262efc5780b540655cfeb06f71ff800f7347f3%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">chrome.identity.launchWebAuthFlow: handle JavaScript redirects

Previously, when the auth page is navigated to in non-interactive mode,
we assumed that, if authentication was successful, it would redirect
before the page load event. If the page finished loading without an
immediate redirect, it was assumed that user interaction was required
and the non-interactive flow would fail with an "interaction required"
error.

This is not true for auth providers that use JavaScript to redirect some
time after the auth page loads.

Add new arguments to launchWebAuthFlow which allow the caller to specify
behaviour to support auth providers that use JavaScript redirects:

- abortOnLoadForNonInteractive: a boolean flag to indicate whether to
  abort the non-interactive flow with the "interaction required" error
  if the page stops loading and does not load the redirect URL.
- timeoutMsForNonInteractive: in milliseconds, limit on the total
  duration of the non-interactive flow (with or without
  nonInteractiveAbortOnLoad being set to false).

With auth providers using JavaScript, abortOnLoadForNonInteractive would
be set to false, so that the flow only fails on timeout, instead of
immediately failing on auth page load.

Co-authored-by: Alexander Bolodurin &lt;alexbn@chromium.org&gt;
Co-authored-by: Peter Marshall &lt;petermarshall@chromium.org&gt;
Bug: b:252900393
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I4ef060c4951633d15d26b48ba909ba476fd00b07">I4ef060c4951633d15d26b48ba909ba476fd00b07</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/3996076">https://chromium-review.googlesource.com/c/chromium/src/+/3996076</a>
Reviewed-by: Alex Ilin &lt;alexilin@chromium.org&gt;
Commit-Queue: Alexander Bolodurin &lt;alexbn@chromium.org&gt;
Reviewed-by: Devlin Cronin &lt;rdevlin.cronin@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#1112634}
</pre>

</body>
</html>
