<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/865036/"> 865036</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/23c88f35615e071aaf6c3467e421e779a2ac4e00">23c88f35615e071aaf6c3467e421e779a2ac4e00</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/865031/">865031</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/ab1622f3ceac8d2807ecfdf6c8664a96dc3b7f53">ab1622f3ceac8d2807ecfdf6c8664a96dc3b7f53</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   23c88f35615e071aaf6c3467e421e779a2ac4e00
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/23c88f35615e071aaf6c3467e421e779a2ac4e00">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/23c88f35615e071aaf6c3467e421e779a2ac4e00.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Wei Lee &lt;wtlee@chromium.org&gt;
  </td>
  <td>
   Mon Mar 22 04:58:15 2021
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Mon Mar 22 04:58:15 2021
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/23c88f35615e071aaf6c3467e421e779a2ac4e00/">
    91cf71b6a9d646d1e2164f02a6c48a595e774c8a
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/23c88f35615e071aaf6c3467e421e779a2ac4e00%5E">
    d68b0f6c85e6cef3e4c8e03793c11f4416f2c8fb
   </a>
   <span>
    [
    <a href="/chromium/src/+/23c88f35615e071aaf6c3467e421e779a2ac4e00%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">Reland "Lacros: Enable CroS camera stack on Lacros"

This reverts commit 10f5f1578506483608c9726006eaa976dc405a11.

The original CL is reverted since it breaks:

BrowserTest:
  WebRtcVideoCaptureServiceEnumerationBrowserTest
      .AddingAndRemovingVirtualDeviceTriggersMediaElementOnDeviceChange

UnitTest:
  services_unittests
  content_unittests

The browser test is known flaky on Chrome OS, but it is only disabled for
Ash-Chrome. Therefore, this CL disables it for Lacros-Chrome as well.

For those unit tests, they crashed since there is no
LacrosChromeServiceImpl initialized. It seems that the Lacros service
might be unavailable under unit tests. Therefore, we remove the DCHECK
and fallback to the legacy path if Lacros service is unavailable.

Original change's description:
&gt; Revert "Lacros: Enable CroS camera stack on Lacros"
&gt;
&gt; This reverts commit dbe828606837dd908549719c51f8b4b3ae39bf55.
&gt;
&gt; Reason for revert: Failed on linux-lacros-tester-rel.
&gt; See <a href="https://ci.chromium.org/ui/p/chromium/builders/ci/linux-lacros-tester-rel/8033/test-results?q=">https://ci.chromium.org/ui/p/chromium/builders/ci/linux-lacros-tester-rel/8033/test-results?q=</a>
&gt;
&gt; Original change's description:
&gt; &gt; Lacros: Enable CroS camera stack on Lacros
&gt; &gt;
&gt; &gt; This CL implements the interface between Lacros-Chrome and Ash-Chrome so
&gt; &gt; that the video capture request from Lacros-Chrome can be forwarded to
&gt; &gt; Ash-Chrome and eventually reaches the VideoCaptureDevice in Ash-Chrome.
&gt; &gt;
&gt; &gt; Bug: b/175168296
&gt; &gt; Test: Manually
&gt; &gt;
&gt; &gt; Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I81d0042cfe250232d056034d338ab2d2ec8da4da">I81d0042cfe250232d056034d338ab2d2ec8da4da</a>
&gt; &gt; Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/2719683">https://chromium-review.googlesource.com/c/chromium/src/+/2719683</a>
&gt; &gt; Auto-Submit: Wei Lee &lt;wtlee@chromium.org&gt;
&gt; &gt; Reviewed-by: Scott Violet &lt;sky@chromium.org&gt;
&gt; &gt; Reviewed-by: Guido Urdaneta &lt;guidou@chromium.org&gt;
&gt; &gt; Reviewed-by: Hidehiko Abe &lt;hidehiko@chromium.org&gt;
&gt; &gt; Reviewed-by: Arthur Sonzogni &lt;arthursonzogni@chromium.org&gt;
&gt; &gt; Commit-Queue: Wei Lee &lt;wtlee@chromium.org&gt;
&gt; &gt; Cr-Commit-Position: refs/heads/master@{#863134}
&gt;
&gt; Bug: b/175168296
&gt; Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I0dae1c8774b8eccf0e00c8bc99dff733397524b1">I0dae1c8774b8eccf0e00c8bc99dff733397524b1</a>
&gt; No-Presubmit: true
&gt; No-Tree-Checks: true
&gt; No-Try: true
&gt; Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/2763268">https://chromium-review.googlesource.com/c/chromium/src/+/2763268</a>
&gt; Auto-Submit: Yoichi Osato &lt;yoichio@chromium.org&gt;
&gt; Commit-Queue: Rubber Stamper &lt;rubber-stamper@appspot.gserviceaccount.com&gt;
&gt; Bot-Commit: Rubber Stamper &lt;rubber-stamper@appspot.gserviceaccount.com&gt;
&gt; Cr-Commit-Position: refs/heads/master@{#863164}

Bug: b/175168296
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/Iee3b477cae74cfd6c27b0af8df9152f507bbf1a0">Iee3b477cae74cfd6c27b0af8df9152f507bbf1a0</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/2763448">https://chromium-review.googlesource.com/c/chromium/src/+/2763448</a>
Auto-Submit: Wei Lee &lt;wtlee@chromium.org&gt;
Reviewed-by: Guido Urdaneta &lt;guidou@chromium.org&gt;
Reviewed-by: Arthur Sonzogni &lt;arthursonzogni@chromium.org&gt;
Reviewed-by: Scott Violet &lt;sky@chromium.org&gt;
Reviewed-by: Hidehiko Abe &lt;hidehiko@chromium.org&gt;
Commit-Queue: Wei Lee &lt;wtlee@chromium.org&gt;
Cr-Commit-Position: refs/heads/master@{#865036}
</pre>

</body>
</html>
