<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/1073513/"> 1073513</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/676a77f187136bfc950e6b75dc9ba457cbd6a16b">676a77f187136bfc950e6b75dc9ba457cbd6a16b</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/1073432/">1073432</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/d85861abb318be400c802d538d230f569e458065">d85861abb318be400c802d538d230f569e458065</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   676a77f187136bfc950e6b75dc9ba457cbd6a16b
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/676a77f187136bfc950e6b75dc9ba457cbd6a16b">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/676a77f187136bfc950e6b75dc9ba457cbd6a16b.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Austin Sullivan &lt;asully@chromium.org&gt;
  </td>
  <td>
   Fri Nov 18 20:09:13 2022
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Fri Nov 18 20:09:13 2022
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/676a77f187136bfc950e6b75dc9ba457cbd6a16b/">
    d95ebb381d9c92705111893afeb82b42198465a3
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/676a77f187136bfc950e6b75dc9ba457cbd6a16b%5E">
    251fb3916bc094a9c89214799f4e092e2065084d
   </a>
   <span>
    [
    <a href="/chromium/src/+/676a77f187136bfc950e6b75dc9ba457cbd6a16b%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">Roll src/third_party/sqlite/src/ b48b7b78f..a527890e5 (652 commits)

<a href="https://chromium.googlesource.com/chromium/deps/sqlite.git/+log/b48b7b78fcdf..a527890e56f1">https://chromium.googlesource.com/chromium/deps/sqlite.git/+log/b48b7b78fcdf..a527890e56f1</a>

$ git log b48b7b78f..a527890e5 --date=short --no-merges --format='%ad %ae %s'
2022-11-17 asully Amalgamations for release 3.40.0
2022-11-16  Version 3.40.0
2022-11-14  Previous change to the fake_big_file command in the test harness was not correct.  This one should fix the problem.
2022-11-14  Change the fake_big_file test command so that it fails for files larger than 2MB on Windows, as we have observed that Window10 will sometimes bluescreen when operating on very large sparse files.
2022-11-14 Dan Kennedy Avoid running bigsort.test with SQLITE_DEBUG builds. The assert() statements added in [7c96a56] make it too slow.
2022-11-13 stephan Remove some outdated code comments. No code changes.
2022-11-12  Disable the ability to change the schema_version cookie when SQLITE_DBCONFIG_DEFENSIVE mode is enabled.  This is a security enhancement inspired by the question in [forum:/forumpost/2b9cc3dae1f1e5f6|forum post 2b9cc3dae1f1e5f6].
2022-11-10  Remove unnecessary tabs in the ChaCha20 implementation. [forum:/forumpost/0cdce5db8c|Forum post 0cdce5db8c].
2022-11-10 stephan Rework automatically acquired OPFS locks to be released during idle time. This eliminates the performance hit reported in [46304ba057707c].
2022-11-10 stephan OPFS: if an op which needs a lock is called when no lock has been obtained, automatically lock it at the start of the op and unlock it at the end of that op. This is an attempt to alleviate the cross-tab contention described in [forum post 58a377083cd24a|forum:58a377083cd24a] but it increases speedtest1 run time by approximately 4x. Perhaps auto-lock can be combined with the older idle-time-based auto-unlock to unlock such locks (but not those from xLock()) to improve this?
2022-11-09 Dan Kennedy Better handle an error in the fts5 integrity-check code. dbsqlfuzz e87c62f9b67ea21aebdc36ab71cab7cc3eda8dc3.
2022-11-09  Additional defense against corrupt database files in dbdata.c.
2022-11-09  Increase the precision of the nData parameter to the dbdataValue() routine inside the sqlite_dbdata virtual table, to avoid the possibility of integer overflow.
2022-11-08 Dan Kennedy Fix a problem with URI formatting in calls to sqlite3rbu_vacuum(zDb, NULL) causing problems on win32. First reported here &lt;<a href="https://sqlite.org/forum/forumpost/a7ae915a9d%3E.">https://sqlite.org/forum/forumpost/a7ae915a9d&gt;.</a>
2022-11-08 Dan Kennedy Do not attempt to run test script dbpagefault.test with SQLITE_OMIT_VIRTUALTABLE builds.
2022-11-08 Dan Kennedy Fix a problem in main.mk preventing the amalgamation-testfixture target from building.
2022-11-07  Further improvements to the handling of the u32 and u16 typedefs in the shell.c source file.
2022-11-07  Improve the ability of mkshellc.tcl to remove redundant typedefs from the generated shell.c code.  This is needed to get shell.c to build on older C compilers.
2022-11-07 Dan Kennedy Add the sqlite3rbu_rename_handler() API. To override the default routine that RBU uses to rename files.
2022-11-07 stephan Minor doc updates in speed-check.sh. No code changes.
2022-11-07  Fix an obsolete comment.
2022-11-07  Fix typo in comment.
2022-11-07 stephan Add sqlite3.wasm.alloc.impl() as a "public back door" into the low-level non-throwing allocator. Correct sqlite3.WasmAllocError constructor to behave like its usages expect it to and add tests for that.
2022-11-07  Fix requirements marks so that they match documentation corrections.
2022-11-07 stephan Minor wasm doc touchups. No code changes.
2022-11-07  Fix the documentation regarding negative length parameters for sqlite3_result_text() interfaces, to point out that the length parameter to sqlite3_result_text64() cannot be negative. [forum:/forumpost/cf1d043b07|Forum post cf1d043b07]. Comment/documentation change only.
2022-11-07  Make sure that the recoverStrlen() function (used internally by the new recovery extension) is 64-bit safe.
2022-11-06  The recoverAssertMutexHeld() function is for testing and verification only and should be a harmless no-op for production builds. [forum/forumpost/b4f2c7d402|Forum post b4f2c7d402].
2022-11-05 Dan Kennedy Update test file dbpagefault.test to account for the restriction on using SQLITE_VTAB_DIRECTONLY virtual tables from within triggers.
2022-11-04 Dan Kennedy Tweaks to recover module test scripts to work with various permutations.
2022-11-04 Dan Kennedy Another test case fix for auto-vacuum builds.
2022-11-04 Dan Kennedy Fixes to recover module test scripts so that they may be used with SQLITE_DEFAULT_AUTOVACUUM and SQLITE_SECURE_DELETE builds.
2022-11-04 Dan Kennedy Fix Tcl tests so that they again build and run with SQLITE_OMIT_VIRTUALTABLE defined.
2022-11-04  Remove an unimportant testcase() macro that is no longer reachable due to the improvement in corruption detection.
2022-11-04 Dan Kennedy Add another test case for the OP_Found fix.
2022-11-04  Enhance the ability of the OP_Found and similar opcodes to detect truncated index records and report SQLITE_CORRUPT. dbsqlfuzz 2b12f90aeff8e081706c7e9b58834f04869f446c.  Test cases in TH3.
2022-11-04 stephan Correct sqlite3-wasm.c's SQLITE_DEFAULT_CACHE_SIZE (it's measured in kb, not bytes).
2022-11-03 stephan Add experimental esm target to ext/wasm/GNUmakefile to tell emcc to generate sqlite3.mjs (ES6 module) instead of sqlite3.js. Related to discussion at [forum:ed4596cf8496a39b].
2022-11-03 stephan Globally replace '' with "" for empty JS strings to please C preprocessor.
2022-11-02 stephan Minor build cleanups and fix a harmless race condition in the OPFS part of tester1.js.
2022-11-02  Clarify documentation regarding the --recovery-db option to ".recover" and the magic 789 configuration option it is associated with.
2022-11-02  Minor improvements to API documentation in comments for the recovery extension.
2022-11-02 stephan Add sqlite3_wasm_vfs_create_file() to replace Emscripten's FS.createDataFile() in a (mostly) VFS-agnostic way. Add a test for worker1's export (to bytearray) support. Re-add worker1 open-from-bytearray using sqlite3_wasm_vfs_create_file() but it's untested (requires a new interactive test app or maybe reconsideration).
2022-11-02  Emcc seems confused by SQLITE_DEBUG, for reasons unknown.  Use NDEBUG instead to simplify the #ifdef logic in sqlite3recover.c.
2022-11-02 stephan Fix a symbol name typo which broke and exception-handling case in OPFS xOpen().
2022-11-02 stephan Fix a missing symbol in non-SQLITE_DEBUG builds.
2022-11-01  Fix a harmless compiler warning.
2022-11-01  Fix harmless compiler warnings.
2022-11-01 Dan Kennedy Instead of (const char*), use a special type - sqlite3_filename - as the filename argument passed to VFS method xOpen().
2022-11-01 mistachkin Fix compilation errors in the recover API seen with MSVC.
(...)
2022-07-11  Back out the optimization at [1a8c2e54375ee2cf7] because there are some cases where it does not work.
2022-07-11  Ensure that the Parse.nErr flag is set following an SQLITE_TOOBIG error on a nested parse.  Fix for the problem identified by [forum/forumpost/d5a82ba9eedee30c | forum post d5a82ba9eedee30c]. Also, remove unnecessary clearing of the Parse.zErrMsg field following a nested parse.
2022-07-11 Dan Kennedy Fix a problem in fts3 to do with deferred tokens and OR expressions.
2022-07-10  When an OOM occurs and sets the Parse.nErr value, also set the Parse.nErr value for all outer Parse objects. dbsqlfuzz d33f60aaa67733aa700cd69dacf8e0e23a327a29
2022-07-08  Performance optimizations in the WHERE clause processing of the query planner.
2022-07-08  Omit an unnecessary structure initialization in whereLoopAddAll(), replacing it with an assert() to show that the initialization has already occurred, for a small performance increase and size reduction.
2022-07-08  Size reduction and performance optimization in whereLoopAddBtreeIndex().
2022-07-08  In wherePathSolver(), defer initializing variables until they are actually needed, in case they are not needed.  This gives a small performance increase.
2022-07-08 Dan Kennedy Fix typo in autoconf/tea/win/makefile.vc.
2022-07-08  Remove an obsolete statement from a comment.  No changes to code.
2022-07-08 Dan Kennedy Update options in the TEA package msvc makefile to match other builds.
2022-07-08 Dan Kennedy Update the build options used for the TEA package to match those used to build the binaries at download.html.
2022-07-07  Very small size reduction and performance increase in btree.c.
2022-07-07  Size reduction and performance increase in defragementPage() of btree.c.
2022-07-07 Dan Kennedy Upgrade the TEA build system in autoconf/tea/. To match tclconfig commit 20fe9e6f59 and Tcl Sample Extension be47fb0446.
2022-07-07  Size reduction and performance increase in the pageFindSlot() routine of btree.c.
2022-07-07  Size reduction and performance increase in the freeSpace() routine of btree.c.
2022-07-06 mistachkin Fix harmless compiler warnings seen with MSVC.
2022-07-06 Dan Kennedy Avoid ignoring the last line of a csv file if the final field is empty and there is no trailing CFLS. Also have the csv extension treat the last line of a file in the same way as any other line if it is short fields.
2022-07-06 Dan Kennedy Avoid dropping error codes in the xBegin() method of virtual table sqlite_dbpage.
2022-07-05 Dan Kennedy Fix for builds with both SQLITE_DEBUG and SQLITE_OMIT_WINDOWFUNC defined.
2022-07-05 Dan Kennedy Fix a problem in the csv extension that was triggered when the very first field in the csv file is zero bytes in size.
2022-07-05  Fix an assert() in btree to be more precise, as the previous form of that asser might fail due to recent performance optimizations.
2022-07-04  Size reduction and performance optimization in sqlite3WalFindFrame().
2022-07-04  In the getNormalPage() routine of pager.c, consolidate pgno error checking into a single spot for small size reduction and performance increase.
2022-07-03  Enhance the REGEXP extension so that the end-of-input indicate ("$") is allowed to occur on one branch of an OR ("|"). [forum:/forumpost/0107d5d40dd273e2|Forum post 0107d5d40dd273e2], second issue.
2022-07-03  Fix the initial-prefix optimization for the REGEXP extension such that it works even if the prefix contains characters that require a 3-byte UTF8 encoding.  This should fix the problem reported by [forum:/forumpost/96692f8ba5|forum post 96692f8ba5].
2022-07-03  Improved comment on sqlite3VdbeSwap().  No changes to code.
2022-07-03  Remove debugging code that has always been commented out.  Cosmetic change.
2022-07-01 Dan Kennedy Do not attempt the OP_Count optimization on queries with HAVING clauses.
2022-07-01  Performance improvement in resolveP2Values().  Save over 1 million CPU cycles by omitting the loop termination condition and exiting when the OP_Init (always the first opcode in any VDBE program) is encountered.
2022-06-30  Small performance improvement to sqlite3_finalize().
2022-06-30 Dan Kennedy Add missing "finish_test" command to the end of test script merge1.test.
2022-06-29 Dan Kennedy Have the sqlite_stmt table buffer all data for the current scan within the xFilter method.
2022-06-27  Fix a missing dependency for json.lo in Makefile.in
2022-06-25 stephan wasm: corrected the isInt32() check to account for negative values.
2022-06-25  Put an ALWAYS() on an unreachable branch.
2022-06-25  Increase the version number to 3.40.0 so as to begin the next development cycle.
2022-06-25 stephan wasm: added bindings for sqlite3_extended_result_codes(), sqlite3_open_v2(), and the SQLITE_OPEN_... flags.
2022-06-25  Fix documentation type.  [forum:/forumpost/8d900996ed|forum post 8d900996ed].
2022-06-25 stephan wasm: lots of doc additions and refactoring. Refactored the WASM memory heap usage to hopefully eventually account for a runtime-growable heap. Differentiate between supported TypedArray types for input SQL strings vs binding/fetching blobs. Might (untested) have implemented the ability to bind UtfNNArray values as blobs, where NN is one of 16 or 32.
2022-06-25 stephan wasm: added utility C code to generate a JSON-format "enum" of the numerous SQLITE_xyz constants so that we do not risk those getting out of sync in the JS code. Renamed initSqlite3Module to sqlite3InitModule. Cleanups in the TypedArray handling.
2022-06-25 stephan wasm: eliminated the need for Stmt objects to keep ahold of memory allocated for bound strings and blobs. Added alternate string/blob bind impls which are hypothetically more efficient but not yet proven to be so.
2022-06-25 stephan wasm: eliminated the dependency on the deprecated emcc-provided allocate() function. Adjacent cleanups in blob binding.
2022-06-25 stephan wasm: corrected the propagation of text/blob values via UDFs. DB.exec()'s sql may now be an array of strings which get concatenated together before passing it on to sqlite3_prepare_v2(). DB.exec()'s callback now applies to the first statement which has result columns instead of only the first statement. Fixed a precedence but which caused isInt32() to report false positives.
2022-06-25 stephan Minor wasm doc tweaks.
2022-06-25 stephan wasm binding: consolidated the two sqlite3_prepare_v2() bindings behind a single dispathcer. Various internal cleanups and refactoring. Branched because trunk is in pencils-down mode for pending 3.39 release.
2022-06-23  New test cases for query flattening with LEFT JOIN.
2022-06-23  Reintroduce flattener constraint (3c), but this time make it apply only if the outer query holds a GROUP BY, not if the outer query is an aggregate.
2022-06-23  Add back the ability to flatten a LEFT JOIN subquery - previously removed due to ticket [cad1ab4cb7b0fc344].

Created with:
  roll-dep src/third_party/sqlite/src

Bug: 1385498
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I0468ac6b74a33a4b855c73825cfa41cd12c7077b">I0468ac6b74a33a4b855c73825cfa41cd12c7077b</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/4035491">https://chromium-review.googlesource.com/c/chromium/src/+/4035491</a>
Auto-Submit: Austin Sullivan &lt;asully@chromium.org&gt;
Commit-Queue: Evan Stade &lt;estade@chromium.org&gt;
Reviewed-by: Evan Stade &lt;estade@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#1073513}
</pre>

</body>
</html>
