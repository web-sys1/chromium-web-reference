<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/944928/"> 944928</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/524f4cb303e92141012551b9f589fad8cfd82a06">524f4cb303e92141012551b9f589fad8cfd82a06</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/944930/">944930</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/7f8311c4a76f0aa48d1574d1bd2b39edeaa52188">7f8311c4a76f0aa48d1574d1bd2b39edeaa52188</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   524f4cb303e92141012551b9f589fad8cfd82a06
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/524f4cb303e92141012551b9f589fad8cfd82a06">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/524f4cb303e92141012551b9f589fad8cfd82a06.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Max Ihlenfeldt &lt;mihlenfeldt@igalia.com&gt;
  </td>
  <td>
   Wed Nov 24 12:37:37 2021
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Wed Nov 24 12:37:37 2021
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/524f4cb303e92141012551b9f589fad8cfd82a06/">
    5a08dcb3c5cdfeb264fc6c9b0ac30944b161be95
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/524f4cb303e92141012551b9f589fad8cfd82a06%5E">
    37ba675f4421866da5599c8d94cdafe0e1bfec9f
   </a>
   <span>
    [
    <a href="/chromium/src/+/524f4cb303e92141012551b9f589fad8cfd82a06%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">SoftwareOutputSurface: set resize_based_on_root_surface capability

This CL adds a new SupportsOverridePlatformSize() method to
SoftwareOutputDevice and SurfaceOzoneCanvas. Its return value is used by
SoftwareOutputSurface to set its resize_based_on_root_surface
capability. All default implementations return false, except for
WaylandCanvasSurface's override, which returns true. This approach is
taken from viz::OutputPresenterGL and gl::GlSurface.

This change prevents RootCompositorFrameSinkImpl::Resize() from updating
the window size without updating the scale factor on Ozone/Wayland. Else
the following order of function calls can happen in viz::Display:
Resize() -&gt; DrawFrame() -&gt; SetLocalSurfaceId(). The Resize() call leads
to DrawFrame() using the new window size, but the scale factor is only
updated in SetLocalSurfaceId(). The next DrawFrame() call notices the
changed scale factor, but the lower layers ignore Resize() calls with
only a changed scale factor. Thus the scale factor may not be set
correctly, e.g. when opening a new window.

Bug: 1272478
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I044f2c4c188011128f48f073aa225b919286ce45">I044f2c4c188011128f48f073aa225b919286ce45</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/3295395">https://chromium-review.googlesource.com/c/chromium/src/+/3295395</a>
Commit-Queue: Max Ihlenfeldt &lt;mihlenfeldt@igalia.com&gt;
Reviewed-by: ccameron &lt;ccameron@chromium.org&gt;
Reviewed-by: Robert Kroeger &lt;rjkroege@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#944928}
</pre>

</body>
</html>
