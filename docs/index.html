<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/911956/"> 911956</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/8010ab0215078b21ef9e473040b0cd049b368300">8010ab0215078b21ef9e473040b0cd049b368300</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/911949/">911949</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/61eaf99d9176138eb0cae79e33b57980eb85b30c">61eaf99d9176138eb0cae79e33b57980eb85b30c</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   8010ab0215078b21ef9e473040b0cd049b368300
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/8010ab0215078b21ef9e473040b0cd049b368300">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/8010ab0215078b21ef9e473040b0cd049b368300.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Frédéric Wang &lt;fwang@igalia.com&gt;
  </td>
  <td>
   Sat Aug 14 00:54:58 2021
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Sat Aug 14 00:54:58 2021
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/8010ab0215078b21ef9e473040b0cd049b368300/">
    4e1e0de39f7961aa63c524bdd1c58b6522717c8c
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/8010ab0215078b21ef9e473040b0cd049b368300%5E">
    0d1cbd2dbd4cff6819164223fb8ed6638c8630c7
   </a>
   <span>
    [
    <a href="/chromium/src/+/8010ab0215078b21ef9e473040b0cd049b368300%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">Rely on the CSS serializer for internals.pageProperty('font-family', ...)

Static function PrintContext::PageProperty is only used to implement
internals.pageProperty for web tests. Moreover, the 'font-family'
is only queried in printing/page-rule-selection.html corresponding to a
list with a single font family name.

PrintContext::PageProperty's implementation for 'font-family' is just to
return the string corresponding to the font name without any special
formatting, which works well for its unique usage but is not very
consistent with how the CSS font-family property is normally serialized
per the CSSOM spec [1][2][3]. Also, serialization is currently not
working properly for generic font-family name like "serif" because of
how these are parsed internally [4].

This CL instead changes that implementation so that it just relies on
the CSS serializer. This thus improves consistency while still being
compatible with the unique API usage. It also removes one more place
where custom serialization is implemented for font-family, so that it
is easier to fix [4].

[1] <a href="https://drafts.csswg.org/cssom/#serialize-a-comma-separated-list">https://drafts.csswg.org/cssom/#serialize-a-comma-separated-list</a>
[2] <a href="https://drafts.csswg.org/cssom/#serialize-a-string">https://drafts.csswg.org/cssom/#serialize-a-string</a>
[3] <a href="https://drafts.csswg.org/cssom/#serialize-an-identifier">https://drafts.csswg.org/cssom/#serialize-an-identifier</a>
[4] <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=1065468">https://bugs.chromium.org/p/chromium/issues/detail?id=1065468</a>

Bug: 1065468
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I6580380b4543b33d98e59d7f56487cf3f81d5f50">I6580380b4543b33d98e59d7f56487cf3f81d5f50</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/3086565">https://chromium-review.googlesource.com/c/chromium/src/+/3086565</a>
Commit-Queue: Frédéric Wang &lt;fwang@igalia.com&gt;
Reviewed-by: Mason Freed &lt;masonf@chromium.org&gt;
Cr-Commit-Position: refs/heads/master@{#911956}
</pre>

</body>
</html>
