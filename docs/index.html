<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/955995/"> 955995</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/74d601536f8c5634689de867864f6a47a9e56f55">74d601536f8c5634689de867864f6a47a9e56f55</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/955995/">955995</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/74d601536f8c5634689de867864f6a47a9e56f55">74d601536f8c5634689de867864f6a47a9e56f55</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   74d601536f8c5634689de867864f6a47a9e56f55
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/74d601536f8c5634689de867864f6a47a9e56f55">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/74d601536f8c5634689de867864f6a47a9e56f55.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Tomasz Wiszkowski &lt;ender@google.com&gt;
  </td>
  <td>
   Thu Jan 06 01:43:39 2022
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Thu Jan 06 01:43:39 2022
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/74d601536f8c5634689de867864f6a47a9e56f55/">
    08178495f97fd3a4c4fd0787f8b20183b9eaa513
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/74d601536f8c5634689de867864f6a47a9e56f55%5E">
    0be8295250939b47ab5773363051d39e83c99212
   </a>
   <span>
    [
    <a href="/chromium/src/+/74d601536f8c5634689de867864f6a47a9e56f55%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">Prevent Omnibox Suggestions from revealing internal pages.

This cosmetic change helps us address a number of bizarre issues with
the omnibox.

For internal pages, where we don't explicitly show the page's URL in
the Omnibox (eg. chrome://downloads, chrome://newtab etc) we still
attempted to present the verbatim match (ie. focusing the omnibox
shows the top suggestion matching the page's URL).

This is a bit bizarre behavior ("there's nothing in the omnibox, yet
the autocomplete thinks otherwise") that also caused us to see some
assertion errors. Pushing no URL would match the Omnibox content, but
such suggestion would be non-interactable.

The solution presented here re-uses existing LocationBarModel's
approach that takes an informed decision to either push processed URL
or an empty one over to the Omnibox. The piece of logic making the
distinction has been isolated to a dedicated method that can now be
shared between both LocationBarModel and BasicSuggestionProcessor,
making the omnibox and autocomplete offer the same content.

Offered suggestions are interactable.

Bug: 1251811
Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I48bf580db2fdd87d26342461ed947d669251aec1">I48bf580db2fdd87d26342461ed947d669251aec1</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/3272011">https://chromium-review.googlesource.com/c/chromium/src/+/3272011</a>
Reviewed-by: Filip Gorski &lt;fgorski@chromium.org&gt;
Reviewed-by: Tommy Li &lt;tommycli@chromium.org&gt;
Commit-Queue: Tomasz Wiszkowski &lt;ender@google.com&gt;
Auto-Submit: Tomasz Wiszkowski &lt;ender@google.com&gt;
Cr-Commit-Position: refs/heads/main@{#955995}
</pre>

</body>
</html>
