<!DOCTYPE html>
<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
<base href="https://chromium.googlesource.com/">
<style type="text/css">
table.blueTable {
  border: 1px solid #1C6EA4;
  background-color: #EEEEEE;
  width: 100%;
  text-align: center;
  border-collapse: collapse;
}
table.blueTable td, table.blueTable th {
  border: 1px solid #AAAAAA;
  padding: 3px 2px;
}
table.blueTable tbody td {
  font-size: 16px;
}
table.blueTable tr:nth-child(even) {
  background: #D0E4F5;
}
table.blueTable thead {
  background: #3077A4;
  background: -moz-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: -webkit-linear-gradient(top, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  background: linear-gradient(to bottom, #6499bb 0%, #4484ad 66%, #3077A4 100%);
  border-bottom: 2px solid #444444;
}
table.blueTable thead th {
  font-size: 15px;
  font-weight: bold;
  color: #FFFFFF;
  text-align: center;
  border-left: 2px solid #D0E4F5;
}
table.blueTable thead th:first-child {
  border-left: none;
}
table.blueTable tfoot {
  font-size: 8px;
  font-weight: bold;
  color: #FFFFFF;
  background: #D0E4F5;
  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);
  border-top: 2px solid #444444;
}
table.blueTable tfoot td {
  font-size: 8px;
}
table.blueTable tfoot .links {
  text-align: right;
}
table.blueTable tfoot .links a{
  display: inline-block;
  background: #1C6EA4;
  color: #FFFFFF;
  padding: 2px 8px;
  border-radius: 5px;
}
body{
    background: #fff2e0;
}
.Metadata {
    margin-bottom: 15px;
}
.u-monospace {
    font-family: 'Source Code Pro',monospace;
    max-width: 100%;
    overflow-x: scroll;
    border: groove #c33b3b 2px;
}
.MetadataMessage {
    background-color: #b9caff;
    border: 1px solid #de5353;
    color: #000;
    margin: 0;
    padding: 12px;
    white-space: pre-wrap;
}
</style>
</head>
<body>

    <table class="blueTable">
     <thead>
      <tr>
       <th><strong>REVISION ID</strong></th>
       <th>SHA-1 COMMIT</th>
      </tr>
    </thead>
    <tfoot></tfoot>
     <tbody>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Mac/984385/"> 984385</a> <sup><b>(MAC)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/08ffa21521cd272fa508a9b3da72d7ffdfcf527c">08ffa21521cd272fa508a9b3da72d7ffdfcf527c</a></td>
      </tr>
      <tr>
       <td><a href ="https://commondatastorage.googleapis.com/chromium-browser-snapshots/index.html?prefix=Win/984348/">984348</a> <sup><b>(WIN)</b></sup></td>
       <td><a href="https://chromium.googlesource.com/chromium/src/+/9669d510df10a86ddcc1b21d38928581d1f1f3b5">9669d510df10a86ddcc1b21d38928581d1f1f3b5</a></td>
     </tbody>
    </table>
   <hr><table>
 <tr>
  <th class="Metadata-title">
   commit
  </th>
  <td>
   08ffa21521cd272fa508a9b3da72d7ffdfcf527c
  </td>
  <td>
   <span>
    [
    <a href="/chromium/src/+log/08ffa21521cd272fa508a9b3da72d7ffdfcf527c">
     log
    </a>
    ]
   </span>
   <span>
    [
    <a href="/chromium/src/+archive/08ffa21521cd272fa508a9b3da72d7ffdfcf527c.tar.gz">
     tgz
    </a>
    ]
   </span>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   author
  </th>
  <td>
   Benoit Lize &lt;lizeb@chromium.org&gt;
  </td>
  <td>
   Wed Mar 23 16:32:56 2022
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   committer
  </th>
  <td>
   Chromium LUCI CQ &lt;chromium-scoped@luci-project-accounts.iam.gserviceaccount.com&gt;
  </td>
  <td>
   Wed Mar 23 16:32:56 2022
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   tree
  </th>
  <td>
   <a href="/chromium/src/+/08ffa21521cd272fa508a9b3da72d7ffdfcf527c/">
    b946e20aec6017f6b150f66035578b63bf1f9ade
   </a>
  </td>
 </tr>
 <tr>
  <th class="Metadata-title">
   parent
  </th>
  <td>
   <a href="/chromium/src/+/08ffa21521cd272fa508a9b3da72d7ffdfcf527c%5E">
    29d4beefb1581990783bbf9a886f16dc199d94df
   </a>
   <span>
    [
    <a href="/chromium/src/+/08ffa21521cd272fa508a9b3da72d7ffdfcf527c%5E%21/">
     diff
    </a>
    ]
   </span>
  </td>
 </tr>
</table><hr style="height:1px;border-width:0;color:gray;background-color:gray"><pre class="u-pre u-monospace MetadataMessage">[base] Don't use sched_yield() on Apple OSes

sched_yield() can yield a thread for &gt;10ms on macOS, which is enough to
cause visible stutter for instance. Switch to another system call to
only yield for 1ms.

This is based on an investigation of PartitionAlloc's spinning behavior
on macOS, where its (now unused) spinlock was degrading performance on
ARM64 machines. The new system call is modeled after a similar change
done in WebKit, for the stated reasons (where it improved speedometer
and jetstream performance, though WebKit's use of spinlocks is *much*
more extensive than Chrome's),

While in the neighborhood, add a warning that yielding a thread (and
implementing a spinlock) is likely not the best approach for most use
cases.

Change-Id: <a href="https://chromium-review.googlesource.com/#/q/I597baa9604e1c61be141ec87e7a0b8742dc32fe2">I597baa9604e1c61be141ec87e7a0b8742dc32fe2</a>
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/3545090">https://chromium-review.googlesource.com/c/chromium/src/+/3545090</a>
Reviewed-by: Francois Pierre Doray &lt;fdoray@chromium.org&gt;
Commit-Queue: Benoit Lize &lt;lizeb@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#984385}
</pre>

</body>
</html>
